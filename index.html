<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Movie Bot OpenApp</title>
  <style>
    body {
      margin:0;
      font-family: Arial, sans-serif;
      background:#000;
      color:#fff;
    }
    header {
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:10px 15px;
      background:#111;
    }
    header h1 { font-size:20px; color:#e50914; }
    #menuBtn {
      font-size:18px;
      cursor:pointer;
      background:none;
      border:none;
      color:#fff;
    }
    #menu {
      display:none;
      position:absolute;
      right:10px;
      top:50px;
      background:#111;
      border:1px solid #333;
      border-radius:6px;
      padding:10px;
      z-index:100;
    }
    #menu button {
      display:block;
      width:100%;
      margin:5px 0;
      background:#222;
      color:#fff;
      border:none;
      padding:8px;
      border-radius:4px;
      cursor:pointer;
    }
    #searchBar {
      width:100%;
      padding:10px;
      font-size:16px;
      border:none;
      outline:none;
    }
    .grid {
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:10px;
      padding:10px;
    }
    .card {
      background:#111;
      border-radius:8px;
      overflow:hidden;
      transition:transform 0.2s;
    }
    .card:hover { transform:scale(1.03); }
    .card img { width:100%; display:block; }
    .card .info { padding:10px; }
    .card .info h3 { margin:0; font-size:16px; }
    .download-btn {
      display:inline-block;
      margin-top:8px;
      padding:6px 12px;
      background:#e50914;
      color:#fff;
      border-radius:4px;
      text-decoration:none;
      font-size:14px;
    }
    footer {
      text-align:center;
      padding:10px;
      font-size:14px;
      background:#111;
      margin-top:20px;
    }
    footer a { color:#1e90ff; text-decoration:none; }
  </style>
</head>
<body>
  <header>
    <h1>Miss Provider</h1>
    <button id="menuBtn">‚ò∞</button>
    <div id="menu">
      <button id="darkToggle">Dark/Light</button>
      <button id="spectrumToggle">Spectrum Neon</button>
      <button id="langToggle">Change Language</button>
    </div>
  </header>

  <input type="text" id="searchBar" placeholder="Search movies...">
  <div id="results" class="grid"></div>
  <div id="suggestions" class="grid"></div>

  <footer>
    Built 1.0 By <a href="https://t.me/NobitaBhaskar" target="_blank">Àπ ùö¥ ùêé ùêÅ ùö∞ ùêì ùö≤ Àº</a>
  </footer>

<script>
const API_KEY = "282fec93f7dac5a152e0b321327b46c4";
const IMG_PATH = "https://image.tmdb.org/t/p/w500";
const resultsEl = document.getElementById("results");
const suggestionsEl = document.getElementById("suggestions");
const searchBar = document.getElementById("searchBar");

// menu toggle
document.getElementById("menuBtn").onclick = () => {
  const m = document.getElementById("menu");
  m.style.display = m.style.display === "block" ? "none":"block";
};

// dark/light toggle
document.getElementById("darkToggle").onclick = () => {
  document.body.style.background =
    document.body.style.background === "white" ? "#000" : "white";
  document.body.style.color =
    document.body.style.color === "black" ? "#fff" : "black";
};

// neon toggle
document.getElementById("spectrumToggle").onclick = () => {
  document.querySelectorAll(".card,.info h3,.download-btn").forEach(el=>{
    el.style.textShadow="0 0 8px #0ff, 0 0 12px #0ff";
    el.style.color="#0ff";
  });
};

// search
searchBar.addEventListener("keypress", e=>{
  if(e.key==="Enter"){
    searchMovie(searchBar.value);
  }
});

async function searchMovie(query){
  resultsEl.innerHTML = "<p>Loading...</p>";
  const res = await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${encodeURIComponent(query)}`);
  const data = await res.json();
  if(data.results.length===0){
    resultsEl.innerHTML = `<p>No results found for "${query}"</p>`;
  } else {
    resultsEl.innerHTML = "";
    data.results.forEach(movie=>{
      const titleSlug = movie.title.replace(/\s+/g,"-");
      const card = document.createElement("div");
      card.className="card";
      card.innerHTML=`
        <img src="${IMG_PATH+movie.poster_path}" alt="${movie.title}">
        <div class="info">
          <h3>${movie.title} (${(movie.release_date||"").slice(0,4)})</h3>
          <p>${movie.overview||""}</p>
          <a class="download-btn" href="https://t.me/MissProviderBot?start=getfile-${titleSlug}" target="_blank">Download</a>
        </div>`;
      resultsEl.appendChild(card);
    });
  }
}

// load popular movies
async function loadPopular(){
  const res = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=1`);
  const data = await res.json();
  suggestionsEl.innerHTML="";
  data.results.forEach(movie=>{
    const titleSlug = movie.title.replace(/\s+/g,"-");
    const card = document.createElement("div");
    card.className="card";
    card.innerHTML=`
      <img src="${IMG_PATH+movie.poster_path}" alt="${movie.title}">
      <div class="info">
        <h3>${movie.title} (${(movie.release_date||"").slice(0,4)})</h3>
        <a class="download-btn" href="https://t.me/MissProviderBot?start=getfile-${titleSlug}" target="_blank">Download</a>
      </div>`;
    suggestionsEl.appendChild(card);
  });
}
loadPopular();
</script>
</body>
</html>
